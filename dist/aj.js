window.AJ=window.AJ||{},function(){var e={format:function(){var e,t;if(0===arguments.length)e=new Date,t="yyyy-MM-dd hh:mm:ss";else if(1===arguments.length)if("string"==typeof arguments[0])e=new Date,t=arguments[0];else{if(e=arguments[0],"number"==typeof e){var r=new Date;r.setTime(e),e=r}t="yyyy-MM-dd hh:mm:ss"}else e=arguments[0],t=arguments[1];if("number"==typeof e){var r=new Date;r.setTime(e),e=r}if("Invalid Date"==e)return"Invalid Date";var n={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()};return t.replace(/([yMdhms])+/g,function(e,t){switch(t){case"y":return n[t].toString().slice(-e.length);default:return((e.length>1?"0":"")+n[t]).slice(-2)}})},now:function(){return Date.now?(new Date).getTime():Date.now()}};window.AJ.date=e}(),window.AJ=window.AJ||{},function(){var e=function(e){for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);n>=1&&126>=n||n>=65376&&65439>=n?t++:t+=2}return t};window.AJ.getFullLen=e}(),window.AJ=window.AJ||{},function(){var e={};e.toBase64=function(e,t){var r=document.createElement("canvas"),n=r.getContext("2d"),o=new Image;o.onload=function(){var e,a="";r.width=o.width,r.height=o.height,n.drawImage(o,0,0,o.width,o.height);try{a=r.toDataURL(),r=null}catch(i){console.error(i),e=i}t(a,e)},o.onerror=function(){alert("图片无法加载，请检查对应地址的图片是否存在")},o.src=e},e.imageFill=function(){n();var e=setInterval(function(){return n(),/^loaded|^i|^c/.test(document.readyState)?void clearInterval(e):void 0},250)};var t=function(e){var t=e.getAttribute("srcset"),r=t.split(","),n=[];if(/^.+,.+x$/.test(t))for(var o=0,a=r.length;a>o;o++){var i,c={};/^.+\s.+x$/.test(r[o])?(i=r[o].split(" "),c.src=i[0],c.dpi=i[1],n.push(c)):console.warn(r[o]+":srcset属性格式错误")}else console.warn("srcset属性格式错误");return n},r=function(e,t,r){if(e.length)for(var n=0,o=e.length;o>n;n++)e[n].dpi===t&&(r.src=e[n].src)},n=function(){var e="srcset"in document.createElement("img"),n=window.devicePixelRatio||1;if(e===!1){var o,a=document.querySelectorAll("img[srcset]"),i=n+"x";if(a.length)for(var c=0,u=a.length;u>c;c++){var s=a[c];o=t(s),r(o,i,s)}}};window.AJ.image=e}(),window.AJ=window.AJ||{},function(){function e(){if("localStorage"in window)try{u=window.localStorage,null!==u?(u.setItem("aj.storage.test.key",""),f=!0,u.removeItem("aj.storage.test.key")):f=!1}catch(e){console.info(e),22==e.code&&0===u.length&&(f=!1)}else f=!1}function t(e){var t=function(){return void console.warn("抱歉，您的浏览器暂不支持localstoarage的使用! 无法使用该接口!")};for(var r in e)l[r]=f?e[r]:t}function r(e,t){return a(e)?void u.removeItem(e):t}function n(e,t){try{return"[object Object]"===Object.prototype.toString.apply(t)&&(t=JSON.stringify(t)),void u.setItem(e,t)}catch(r){return 22==r.code?console.log("storage已满，无法在储存新的数据"):console.error(r),r}}function o(e,t){if(void 0!==t)try{var r=u.getItem(g);r=r?JSON.parse(r):{},t="[object Date]"===Object.prototype.toString.apply(t)?t.getTime():+new Date+1e3*t,r[e]=t,u.setItem(g,JSON.stringify(r))}catch(n){console.warn(n)}}function a(e){var t=u.getItem(g);if(!t)return!1;t=JSON.parse(t);for(var r in t)if(r==e){var n=Number(t[r])-+new Date<0;return n&&c(e),n}return!1}function i(e){var t=u.getItem(g);if(!t)return void 0;t=JSON.parse(t);for(var r in t)if(r==e)return u.getItem(e)?new Date(t[e]):void c(e);return void 0}function c(e){var t=u.getItem(g);t&&(t=JSON.parse(t),delete t[e],u.setItem(g,JSON.stringify(t)))}var u,s,l={},f=!0,g="aj.storage.expiredList";s={get:function(e){var t=u.getItem(e);return void 0===t||null===t?void 0:r(e,t)},set:function(e,t,r){return this.remove(e),r&&o(e,r),n(e,t)},remove:function(e){c(e),u.removeItem(e)},clear:function(){u.clear()},getExpiredDate:function(e){return u.getItem(e)?i(e):void 0}},e(),t(s),window.AJ.storage=l}(),window.AJ=window.AJ||{},function(){function e(e){return"[object String]"===Object.prototype.toString.call(e)}var t={};t.getFullLen=function(t){if(!e(t))return void 0;for(var r=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o>=1&&126>=o||o>=65376&&65439>=o?r++:r+=2}return r},window.AJ.string=t}(),window.AJ=window.AJ||{},function(){function e(e){for(var t,r={},n=e.replace(/^\?/,"").split("&"),o=n.length,a=0;o>a;a++)n[a]&&(t=n[a].split("="),r[t[0]]=t.length>0?decodeURIComponent(t[1]):"");return r}function t(e,t,r){null===r?delete e.params[t]:e.params[t]=r;var n=[];for(var o in e.params)n.push(o+"="+encodeURIComponent(decodeURIComponent(e.params[o])));return e.query="?"+n.join("&"),e}function r(e){return Object.prototype.toString.call(e)}function n(e){return"[object String]"==r(e)}function o(e){return"[object Object]"==r(e)}function a(e){return o(e)&&"uri"===e.__type__}var i={parse:function(t){if(a(t))return t;var r=document.createElement("a");r.href=t;var n={source:t,protocol:r.protocol.replace(":",""),host:r.hostname,port:r.port,query:r.search,params:e(r.search),file:(r.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:r.hash.replace("#",""),path:r.pathname.replace(/^([^\/])/,"/$1"),relative:(r.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:r.pathname.replace(/^\//,"").split("/"),__type__:"uri"};return n.toString=function(){return i.stringify(n)},n},stringify:function(e){var t="";return t+=e.protocol+"://",t+=e.host+(e.port?":"+e.port:""),t+=e.path,t+=e.query,e.hash&&(t+="#"+e.hash),t},setParam:function(e,r,a){var i=this.parse(e);if(o(r))for(var c in r)t(i,c,r[c]);else t(i,r,a);return n(e)?i.toString():i},getParam:function(e,t){var r=this.parse(e);return r.params[t]},removeParam:function(e,r){var n=a(e)?e:this.parse(e);return n=t(n,r,null),a(e)?n:n.toString()}};window.AJ.uri=i}();