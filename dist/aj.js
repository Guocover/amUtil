window.AJ=window.AJ||{},function(){var e={format:function(){var e,t;if(0===arguments.length)e=new Date,t="yyyy-MM-dd hh:mm:ss";else if(1===arguments.length)if("string"==typeof arguments[0])e=new Date,t=arguments[0];else{if(e=arguments[0],"number"==typeof e){var r=new Date;r.setTime(e),e=r}t="yyyy-MM-dd hh:mm:ss"}else e=arguments[0],t=arguments[1];if("number"==typeof e){var r=new Date;r.setTime(e),e=r}if("Invalid Date"==e)return"Invalid Date";var n={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()};return t.replace(/([yMdhms])+/g,function(e,t){switch(t){case"y":return n[t].toString().slice(-e.length);default:return((e.length>1?"0":"")+n[t]).slice(-2)}})},now:function(){return Date.now?(new Date).getTime():Date.now()}};window.AJ.date=e}(),window.AJ=window.AJ||{},function(){var e={};e.toBase64=function(e,t){var r=document.createElement("canvas"),n=r.getContext("2d"),o=new Image;o.onload=function(){var e,a="";r.width=o.width,r.height=o.height,n.drawImage(o,0,0,o.width,o.height);try{a=r.toDataURL(),r=null}catch(i){console.error(i),e=i}t(a,e)},o.onerror=function(){alert("图片无法加载，请检查对应地址的图片是否存在")},o.src=e},window.AJ.image=e}(),window.AJ=window.AJ||{},function(){function e(){if("localStorage"in window)try{c=window.localStorage,null!==c?(c.setItem("aj.storage.test.key",""),l=!0,c.removeItem("aj.storage.test.key")):l=!1}catch(e){console.info(e),22==e.code&&0===c.length&&(l=!1)}else l=!1}function t(e){var t=function(){return void console.warn("抱歉，您的浏览器暂不支持localstoarage的使用! 无法使用该接口!")};for(var r in e)f[r]=l?e[r]:t}function r(e,t){return a(e)?void c.removeItem(e):t}function n(e,t){try{return"[object Object]"===Object.prototype.toString.apply(t)&&(t=JSON.stringify(t)),void c.setItem(e,t)}catch(r){return 22==r.code?console.log("storage已满，无法在储存新的数据"):console.error(r),r}}function o(e,t){if(void 0!==t)try{var r=c.getItem(g);r=r?JSON.parse(r):{},t="[object Date]"===Object.prototype.toString.apply(t)?t.getTime():+new Date+1e3*t,r[e]=t,c.setItem(g,JSON.stringify(r))}catch(n){console.warn(n)}}function a(e){var t=c.getItem(g);if(!t)return!1;t=JSON.parse(t);for(var r in t)if(r==e){var n=Number(t[r])-+new Date<0;return n&&u(e),n}return!1}function i(e){var t=c.getItem(g);if(!t)return void 0;t=JSON.parse(t);for(var r in t)if(r==e)return c.getItem(e)?new Date(t[e]):void u(e);return void 0}function u(e){var t=c.getItem(g);t&&(t=JSON.parse(t),delete t[e],c.setItem(g,JSON.stringify(t)))}var c,s,f={},l=!0,g="aj.storage.expiredList";s={get:function(e){var t=c.getItem(e);return void 0===t||null===t?void 0:r(e,t)},set:function(e,t,r){return this.remove(e),r&&o(e,r),n(e,t)},remove:function(e){u(e),c.removeItem(e)},clear:function(){c.clear()},getExpiredDate:function(e){return c.getItem(e)?i(e):void 0}},e(),t(s),window.AJ.storage=f}(),window.AJ=window.AJ||{},function(){function e(e){return"[object String]"===Object.prototype.toString.call(e)}var t={};t.getFullLen=function(t){if(!e(t))return void 0;for(var r=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o>=1&&126>=o||o>=65376&&65439>=o?r++:r+=2}return r},window.AJ.string=t}(),window.AJ=window.AJ||{},function(){function e(e){for(var t,r={},n=e.replace(/^\?/,"").split("&"),o=n.length,a=0;o>a;a++)n[a]&&(t=n[a].split("="),r[t[0]]=t.length>0?decodeURIComponent(t[1]):"");return r}function t(e,t,r){null===r?delete e.params[t]:e.params[t]=r;var n=[];for(var o in e.params)n.push(o+"="+encodeURIComponent(decodeURIComponent(e.params[o])));return e.query="?"+n.join("&"),e}function r(e){return Object.prototype.toString.call(e)}function n(e){return"[object String]"==r(e)}function o(e){return"[object Object]"==r(e)}function a(e){return o(e)&&"uri"===e.__type__}var i={parse:function(t){if(a(t))return t;var r=document.createElement("a");r.href=t;var n={source:t,protocol:r.protocol.replace(":",""),host:r.hostname,port:r.port,query:r.search,params:e(r.search),file:(r.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:r.hash.replace("#",""),path:r.pathname.replace(/^([^\/])/,"/$1"),relative:(r.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:r.pathname.replace(/^\//,"").split("/"),__type__:"uri"};return n.toString=function(){return i.stringify(n)},n},stringify:function(e){var t="";return t+=e.protocol+"://",t+=e.host+(e.port?":"+e.port:""),t+=e.path,t+=e.query,e.hash&&(t+="#"+e.hash),t},setParam:function(e,r,a){var i=this.parse(e);if(o(r))for(var u in r)t(i,u,r[u]);else t(i,r,a);return n(e)?i.toString():i},getParam:function(e,t){var r=this.parse(e);return r.params[t]},removeParam:function(e,r){var n=a(e)?e:this.parse(e);return n=t(n,r,null),a(e)?n:n.toString()}};window.AJ.uri=i}();