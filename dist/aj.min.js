window.AJ=window.AJ||{},function(){var t={format:function(t,e){var r={y:t.getFullYear(),M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),S:t.getMilliseconds(),q:Math.floor((t.getMonth()+3)/3),w:t.getDay()};return e.replace(/([yMdhmsqSw])+/g,function(t,e){switch(e){case"y":return r[e].toString().slice(-t.length);case"q":case"S":return r[e];case"w":var n={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};return n[r[e]];default:return((t.length>1?"0":"")+r[e]).slice(-2)}})},now:function(){return Date.now?(new Date).getTime():Date.now()}};window.AJ.date=t}(),window.AJ=window.AJ||{},function(){var t={};t.toBase64=function(t,e){var r=document.createElement("canvas"),n=r.getContext("2d"),o=new Image;o.onload=function(){var t="";r.width=o.width,r.height=o.height,n.drawImage(o,0,0,o.width,o.height);try{t=r.toDataURL(),r=null}catch(a){console.warn(a)}e(t)},o.onerror=function(){alert("图片无法加载，请检查对应地址的图片是否存在")},o.src=t},window.AJ.image=t}(),window.AJ=window.AJ||{},function(){function t(){if("localStorage"in window)try{u=window.localStorage,null!==u?(u.setItem("aj.storage.test.key",""),f=!0,u.removeItem("aj.storage.test.key")):f=!1}catch(t){console.info(t),22==t.code&&0===u.length&&(f=!1)}else f=!1}function e(t){var e=function(){console.warn("抱歉，您的浏览器暂不支持localstoarage的使用! 无法使用该接口!")};for(var r in t)l[r]=f?t[r]:e}function r(t,e){return a(t)?void u.removeItem(t):e}function n(t,e){try{return"[object Object]"===Object.prototype.toString.apply(e)&&(e=JSON.stringify(e)),void u.setItem(t,e)}catch(r){return 22==r.code?console.log("storage已满，无法在储存新的数据"):console.error(r),r}}function o(t,e){if(void 0!==e)try{var r=u.getItem(g);r=r?JSON.parse(r):{},e="[object Date]"===Object.prototype.toString.apply(e)?e.getTime():+new Date+1e3*e,r[t]=e,u.setItem(g,JSON.stringify(r))}catch(n){console.warn(n)}}function a(t){var e=u.getItem(g);if(!e)return!1;e=JSON.parse(e);for(var r in e)if(r==t){var n=Number(e[r])-+new Date<0;return n&&c(t),n}return!1}function i(t){var e=u.getItem(g);if(!e)return void 0;e=JSON.parse(e);for(var r in e)if(r==t)return u.getItem(t)?new Date(e[t]):void c(t);return void 0}function c(t){var e=u.getItem(g);e&&(e=JSON.parse(e),delete e[t],u.setItem(g,JSON.stringify(e)))}var u,s,l={},f=!0,g="aj.storage.expiredList";s={get:function(t){var e=u.getItem(t);return void 0===e||null===e?void 0:r(t,e)},set:function(t,e,r){return this.remove(t),r&&o(t,r),n(t,e)},remove:function(t){c(t),u.removeItem(t)},clear:function(){u.clear()},getExpiredDate:function(t){return u.getItem(t)?i(t):void 0}},t(),e(s),window.AJ.storage=l}(),window.AJ=window.AJ||{},function(){var t={};t.getFullLen=function(t){for(var e=0,r=0;r<t.length;r++){var n=t.charCodeAt(r);n>=1&&126>=n||n>=65376&&65439>=n?e++:e+=2}return e},window.AJ.string=t}(),window.AJ=window.AJ||{},function(){function t(t){for(var e,r={},n=t.replace(/^\?/,"").split("&"),o=n.length,a=0;o>a;a++)n[a]&&(e=n[a].split("="),r[e[0]]=e.length>0?decodeURIComponent(e[1]):"");return r}function e(t,e,r){null===r?delete t.params[e]:t.params[e]=r;var n=[];for(var o in t.params)n.push(o+"="+encodeURIComponent(decodeURIComponent(t.params[o])));return t.query="?"+n.join("&"),t}function r(t){return Object.prototype.toString.call(t)}function n(t){return"[object String]"==r(t)}function o(t){return"[object Object]"==r(t)}function a(t){return o(t)&&"uri"===t.__type__}var i={parse:function(e){if(a(e))return e;var r=document.createElement("a");r.href=e;var n={source:e,protocol:r.protocol.replace(":",""),host:r.hostname,port:r.port,query:r.search,params:t(r.search),file:(r.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:r.hash.replace("#",""),path:r.pathname.replace(/^([^\/])/,"/$1"),relative:(r.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:r.pathname.replace(/^\//,"").split("/"),__type__:"uri"};return n.toString=function(){return i.stringify(n)},n},stringify:function(t){var e="";return e+=t.protocol+"://",e+=t.host+(t.port?":"+t.port:""),e+=t.path,e+=t.query,t.hash&&(e+="#"+t.hash),e},setParam:function(t,r,a){var i=this.parse(t);if(o(r))for(var c in r)e(i,c,r[c]);else e(i,r,a);return n(t)?i.toString():i},getParam:function(t,e){var r=this.parse(t);return r.params[e]},removeParam:function(t,r){var n=a(t)?t:this.parse(t);return n=e(n,r,null),a(t)?n:n.toString()}};window.AJ.uri=i}();